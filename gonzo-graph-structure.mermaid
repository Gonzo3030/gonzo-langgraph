graph TD
    %% Core Entry and Assessment
    Input[Input Stream] --> Assessment[Assessment Node]
    
    %% Primary Analysis Layer
    Assessment --> |"Detect Manipulation"| ManipulationDetection[Manipulation Detection]
    Assessment --> |"Market Data"| MarketAnalysis[Market Analysis]
    Assessment --> |"News/Social"| NarrativeAnalysis[Narrative Analysis]
    Assessment --> |"Pattern Recognition"| CausalityAnalysis[Causality Analysis]
    
    %% Memory and Knowledge Layer
    subgraph Memory["Memory Management"]
        HistoricalContext[Historical Context]
        PatternDatabase[Pattern Database]
        TimelineComparison[Timeline Comparison]
    end
    
    %% Analysis Flows to Memory
    ManipulationDetection --> |"Update Patterns"| PatternDatabase
    MarketAnalysis --> |"Update Context"| HistoricalContext
    NarrativeAnalysis --> |"Update Context"| HistoricalContext
    CausalityAnalysis --> |"Compare Timelines"| TimelineComparison
    
    %% Critical Analysis Layer
    subgraph Analysis["Critical Analysis"]
        PropagandaDetection[Propaganda Detection]
        PowerStructures[Power Structure Analysis]
        DeepStatePatterns[Deep State Patterns]
        DecentralizationImpact[Decentralization Impact]
    end
    
    %% Memory Feeds Analysis
    PatternDatabase --> PropagandaDetection
    HistoricalContext --> PowerStructures
    TimelineComparison --> DeepStatePatterns
    MarketAnalysis --> DecentralizationImpact
    
    %% Response Generation
    subgraph Response["Response Generation"]
        GonzoVoice[Voice Authenticity]
        EvidenceCompilation[Evidence Compilation]
        NarrativeCrafting[Narrative Crafting]
    end
    
    %% Analysis to Response Flow
    PropagandaDetection --> NarrativeCrafting
    PowerStructures --> EvidenceCompilation
    DeepStatePatterns --> NarrativeCrafting
    DecentralizationImpact --> EvidenceCompilation
    
    %% Final Output
    NarrativeCrafting --> |"Style Check"| GonzoVoice
    EvidenceCompilation --> |"Evidence Review"| GonzoVoice
    GonzoVoice --> Output[Final Output]
    
    %% Error Recovery and State Management
    subgraph StateControl["State Management"]
        ErrorRecovery[Error Recovery]
        StateValidation[State Validation]
        TransitionGuards[Transition Guards]
    end
    
    %% State Management Connections
    StateValidation --> Assessment
    TransitionGuards --> Memory
    ErrorRecovery --> Response
